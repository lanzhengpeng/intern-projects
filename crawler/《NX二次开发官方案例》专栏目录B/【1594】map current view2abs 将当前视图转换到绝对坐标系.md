### 【1594】map current view2abs 将当前视图转换到绝对坐标系

#### 代码

```cpp
    static void map_current_view2abs(double *c)  
    {  
        double  
            abs_mx[9] = { 0,0,0, 1,0,0, 0,1,0 },  
            mx[12],  
            scale,  
            vw[12] = { 0,0,0 };  
        int  
            irc;  
        uc6430("", vw, &scale);  
        uc6433("", &vw[3]);  
        FTN(uf5940)(vw, abs_mx, mx, &irc);  
        FTN(uf5941)(c, mx);  
    }

```

#### 代码解析

> 根据代码注释和函数名，该段代码的功能是将当前视图坐标系下的点转换到绝对坐标系。
>
> 关键步骤包括：
>
> 1. 定义当前视图坐标系到绝对坐标系的变换矩阵abs_mx。此处为简化起见，假设视图坐标系与绝对坐标系重合。
> 2. 通过函数uc6430获取当前视图的缩放比例scale，通过函数uc6433获取当前视图的原点vw。
> 3. 将vw和scale组合成当前视图到绝对坐标系的变换矩阵vw。
> 4. 通过函数uf5940计算vw和abs_mx的乘积，得到当前视图到绝对坐标系的变换矩阵mx。
> 5. 通过函数uf5941使用变换矩阵mx将当前视图下的点c转换到绝对坐标系下。
>
> 综上所述，该段代码实现了视图坐标系到绝对坐标系的转换。
>
