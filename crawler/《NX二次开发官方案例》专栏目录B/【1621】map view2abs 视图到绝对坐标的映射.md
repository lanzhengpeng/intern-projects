### 【1621】map view2abs 视图到绝对坐标的映射

#### 代码

```cpp
    static void map_view2abs(double c[3], tag_t view)  
    {  
        char  
            vname[30];  
        double  
            abs[9] = { 0,0,0, 1,0,0, 0,1,0 },  
            vw[12] = { 0,0,0 },  
            mx[12];  
        int  
            irc;  
        UF_CALL(UF_OBJ_ask_name(view, vname));  
        UF_CALL(uc6433(vname, &vw[3]));  
        FTN(uf5940)(vw, abs, mx, &irc);  
        FTN(uf5941)(c, mx);  
    }

```

#### 代码解析

> 这段代码是NX二次开发代码，主要功能是将视图坐标系中的点转换到绝对坐标系中。具体步骤如下：
>
> 1. 定义了一个长度为30的字符数组vname，用于存储视图的名称。
> 2. 定义了一个长度为12的double数组vw，用于存储视图坐标系的原点在绝对坐标系中的位置。
> 3. 定义了一个长度为9的double数组abs，用于存储视图坐标系到绝对坐标系的转换矩阵。
> 4. 定义了一个长度为12的double数组mx，用于存储最终的变换矩阵。
> 5. 定义了一个整型变量irc，用于存储函数调用的返回码。
> 6. 使用UF_OBJ_ask_name函数获取视图的名称，并存储在vname数组中。
> 7. 使用uc6433函数获取视图坐标系的原点在绝对坐标系中的位置，并存储在vw数组的后3个元素中。
> 8. 使用uf5940函数计算视图坐标系到绝对坐标系的转换矩阵，结果存储在mx数组中。
> 9. 使用uf5941函数对输入的点c进行变换，将视图坐标系中的点转换到绝对坐标系中。
>
> 总体来说，这段代码实现了从视图坐标系到绝对坐标系的坐标转换功能，通过获取视图名称、计算转换矩阵，最终实现了点的转换。
>
